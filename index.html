<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A C++11 Interface for R's C Interface • cpp11</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="A C++11 Interface for R's C Interface">
<meta property="og:description" content="Provides a header only, C++11 interface to Rs C
    interface.  Compared to other approaches cpp11 strives to be safe
    against long jumps from the C API as well as C++ exceptions, conform
    to normal R function semantics and supports interaction with ALTREP'
    vectors.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">cpp11</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="articles/cpp11.html">Get started</a>
</li>
<li>
  <a href="articles/motivations.html">Motivations</a>
</li>
<li>
  <a href="articles/converting.html">Converting</a>
</li>
<li>
  <a href="articles/internals.html">Internals</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/r-lib/cpp11/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="cpp11" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#cpp11" class="anchor"></a>cpp11</h1></div>
<!-- badges: start -->

<p>cpp11 is a header-only R package that helps R package developers handle R objects with C++ code. Its goals and syntax are similar to the excellent <a href="https://cran.r-project.org/package=Rcpp">Rcpp</a> package.</p>
<div id="using-cpp11-in-a-package" class="section level2">
<h2 class="hasAnchor">
<a href="#using-cpp11-in-a-package" class="anchor"></a>Using cpp11 in a package</h2>
<p>To add cpp11 to an existing package, put your C++ files in the <code>src/</code> directory and add the following to your DESCRIPTION file:</p>
<pre><code>LinkingTo: cpp11
SystemRequirements: C++11</code></pre>
<p>Then decorate C++ functions you want to expose to R with <code>[[cpp11::register]]</code>. <em>Note that this is a <a href="https://en.cppreference.com/w/cpp/language/attributes">C++11 attribute</a>, not a comment like is used in Rcpp.</em></p>
<p>cpp11 has no hard dependencies and does not use a shared library, so it is straightforward and reliable to use in packages.</p>
<p>Alternatively, you can <a href="https://cpp11.r-lib.org/articles/motivations.html#vendoring">vendor</a> the current installed version of cpp11 headers into your package with <code>cpp11::vendor_cpp11()</code>. This ensures the headers will remain unchanged until you explicitly update them.</p>
</div>
<div id="getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting started</h2>
<p>See <a href="https://cpp11.r-lib.org/articles/cpp11.html">vignette(“cpp11”)</a> to get started using cpp11 in your scripts, particularly if you are new to C++ programming.</p>
</div>
<div id="getting-help-rstudio-community" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-help-rstudio-community" class="anchor"></a>Getting help <a href="https://community.rstudio.com/new-topic?category=Package%20development&amp;tags=cpp11"><img src="https://img.shields.io/badge/community-cpp11-blue?style=social&amp;logo=rstudio&amp;logoColor=75AADB" alt="RStudio community"></a>
</h2>
<p><a href="https://community.rstudio.com/new-topic?category=Package%20development&amp;tags=cpp11">RStudio community</a> with the <code>cpp11</code> tag is the best place to ask for help using cpp11 or interfacing C++ with R.</p>
</div>
<div id="motivations" class="section level2">
<h2 class="hasAnchor">
<a href="#motivations" class="anchor"></a>Motivations</h2>
<p><a href="https://cran.r-project.org/package=Rcpp">Rcpp</a> has been a widely successful project, however over the years a number of issues and additional C++ features have arisen. Adding these features to Rcpp would require a great deal of work, or in some cases would be impossible without severely breaking backwards compatibility.</p>
<p><strong>cpp11</strong> is a ground up rewrite of C++ bindings to R with different design trade-offs and features.</p>
<p>Changes that motivated cpp11 include:</p>
<ul>
<li>Enforcing <a href="https://cpp11.r-lib.org/articles/motivations.html#copy-on-write-semantics">copy-on-write semantics</a>.</li>
<li>Improving the <a href="https://cpp11.r-lib.org/articles/motivations.html#improve-safety">safety</a> of using the R API from C++ code.</li>
<li>Supporting <a href="https://cpp11.r-lib.org/articles/motivations.html#altrep-support">ALTREP objects</a>.</li>
<li>Using <a href="https://cpp11.r-lib.org/articles/motivations.html#utf-8-everywhere">UTF-8 strings</a> everywhere.</li>
<li>Applying newer <a href="https://cpp11.r-lib.org/articles/motivations.html#c11-features">C++11 features</a>.</li>
<li>Having a more straightforward, <a href="https://cpp11.r-lib.org/articles/motivations.html#simpler-implementation">simpler implementation</a>.</li>
<li>Faster <a href="https://cpp11.r-lib.org/articles/motivations.html#compilation-speed">compilation time</a> with lower memory requirements.</li>
<li>Being <em>completely</em> <a href="https://cpp11.r-lib.org/articles/motivations.html#header-only">header only</a> to avoid ABI issues.</li>
<li>Capable of <a href="https://cpp11.r-lib.org/articles/motivations.html#vendoring">vendoring</a> if desired.</li>
<li>More robust <a href="https://cpp11.r-lib.org/articles/motivations.html#protection">protection</a> using a much more efficient linked list data structure.</li>
<li>
<a href="https://cpp11.r-lib.org/articles/motivations.html#growing-vectors">Growing vectors</a> more efficiently.</li>
</ul>
<p>See <a href="https://cpp11.r-lib.org/articles/motivations.html">vignette(“motivations”)</a> for full details on the motivations for writing cpp11.</p>
</div>
<div id="conversion-from-rcpp" class="section level2">
<h2 class="hasAnchor">
<a href="#conversion-from-rcpp" class="anchor"></a>Conversion from Rcpp</h2>
<p>See <a href="https://cpp11.r-lib.org/articles/converting.html">vignette(“converting”)</a> if you are already familiar with Rcpp or have an existing package that uses Rcpp and want to convert it to use cpp11.</p>
</div>
<div id="internals" class="section level2">
<h2 class="hasAnchor">
<a href="#internals" class="anchor"></a>Internals</h2>
<p>See <a href="https://cpp11.r-lib.org/articles/internals.html">vignette(“internals”)</a> for details on the cpp11 implementation or if you would like to contribute to cpp11.</p>
</div>
<div id="code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h2>
<p>Please note that the cpp11 project is released with a <a href="https://cpp11.r-lib.org/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div id="thanks" class="section level2">
<h2 class="hasAnchor">
<a href="#thanks" class="anchor"></a>Thanks</h2>
<p>cpp11 would not exist without Rcpp. Thanks to the Rcpp authors, Dirk Eddelbuettel, Romain Francois, JJ Allaire, Kevin Ushey, Qiang Kou, Nathan Russell, Douglas Bates and John Chambers for their work writing and maintaining Rcpp.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=cpp11">https://​cloud.r-project.org/​package=cpp11</a>
</li>
<li>Browse source code at <br><a href="https://github.com/r-lib/cpp11/">https://​github.com/​r-lib/​cpp11/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/r-lib/cpp11/issues">https://​github.com/​r-lib/​cpp11/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="http://jimhester.com">Jim Hester</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-2739-7082" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>
<a href="https://www.rstudio.com"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" height="24"></a> <br><small class="roles"> Copyright holder, funder </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/r-lib/cpp11/actions"><img src="https://github.com/r-lib/cpp11/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://codecov.io/gh/r-lib/cpp11"><img src="https://codecov.io/gh/r-lib/cpp11/branch/master/graph/badge.svg?token=EEWYoCYxQ2" alt="codecov"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://CRAN.R-project.org/package=cpp11"><img src="https://www.r-pkg.org/badges/version/cpp11" alt="CRAN status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://jimhester.com">Jim Hester</a>, <a href="https://www.rstudio.com"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
