<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • cpp11</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta name="robots" content="noindex"><script defer data-domain="cpp11.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cpp11</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.5.3.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/cpp11.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/motivations.html">Motivations</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/converting.html">Converting</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/FAQ.html">FAQ</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/internals.html">Internals</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><a class="dropdown-item" href="../news/index.html">Change log</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/cpp11/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/r-lib/cpp11/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="cpp11-development-version">cpp11 (development version)<a class="anchor" aria-label="anchor" href="#cpp11-development-version"></a></h2>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.3" id="cpp11-053">cpp11 0.5.3<a class="anchor" aria-label="anchor" href="#cpp11-053"></a></h2><p class="text-muted">CRAN release: 2026-01-20</p>
<ul><li><p>Removed non-API usage of <code>ATTRIB()</code> (<a href="https://github.com/r-lib/cpp11/issues/481" class="external-link">#481</a>).</p></li>
<li><p>Improved hygiene around using C++ specific C compatibility headers (i.e. by using <code>&lt;cstring&gt;</code> rather than <code>&lt;string.h&gt;</code> and <code>&lt;cstddef&gt;</code> rather than <code>&lt;stddef.h&gt;</code>) (<a href="https://github.com/r-lib/cpp11/issues/454" class="external-link">#454</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>).</p></li>
<li><p>Fixed an rchk issue related to <code>std::initializer_list&lt;named_arg&gt;</code> (<a href="https://github.com/r-lib/cpp11/issues/457" class="external-link">#457</a>, <a href="https://github.com/pachadotdev" class="external-link">@pachadotdev</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.2" id="cpp11-052">cpp11 0.5.2<a class="anchor" aria-label="anchor" href="#cpp11-052"></a></h2><p class="text-muted">CRAN release: 2025-03-03</p>
<ul><li>Fixed an issue related to <code>-Wdeprecated-literal-operator</code> (<a href="https://github.com/r-lib/cpp11/issues/447" class="external-link">#447</a>, <a href="https://github.com/andrjohns" class="external-link">@andrjohns</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.1" id="cpp11-051">cpp11 0.5.1<a class="anchor" aria-label="anchor" href="#cpp11-051"></a></h2><p class="text-muted">CRAN release: 2024-12-04</p>
<ul><li><p>cpp11 now requires R &gt;=4.0.0, in line with the <a href="https://tidyverse.org/blog/2019/04/r-version-support/" class="external-link">tidyverse version policy</a> (<a href="https://github.com/r-lib/cpp11/issues/411" class="external-link">#411</a>).</p></li>
<li>
<p>Because cpp11 now requires R &gt;=4.0.0, a number of previously optional tools are now always available, allowing us to remove some dead code. In particular:</p>
<ul><li><p><code>R_UnwindProtect()</code> is always available, so the defines <code>HAS_UNWIND_PROTECT</code> and <code>CPP11_UNWIND</code> are no longer useful.</p></li>
<li><p>ALTREP is always available, so the file <code>cpp11/altrep.hpp</code> and the define <code>HAS_ALTREP</code> are no longer useful.</p></li>
</ul><p>We would like to remove the dead code regarding these tools in the future, so we ask that you please remove usage of them from your own packages (<a href="https://github.com/r-lib/cpp11/issues/411" class="external-link">#411</a>).</p>
</li>
<li><p><code>R_NO_REMAP</code> and <code>STRICT_R_HEADERS</code> are now conditionally defined only if they have not already been defined elsewhere. This is motivated by the fact that <code>R_NO_REMAP</code> is becoming the default for C++ code in R 4.5.0 (<a href="https://github.com/r-lib/cpp11/issues/410" class="external-link">#410</a>).</p></li>
<li><p>Fixed a small protection issue flagged by rchk (<a href="https://github.com/r-lib/cpp11/issues/408" class="external-link">#408</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="cpp11-050">cpp11 0.5.0<a class="anchor" aria-label="anchor" href="#cpp11-050"></a></h2><p class="text-muted">CRAN release: 2024-08-27</p>
<div class="section level3">
<h3 id="r-non-api-related-changes-0-5-0">R non-API related changes<a class="anchor" aria-label="anchor" href="#r-non-api-related-changes-0-5-0"></a></h3>
<ul><li>
<p>Removed usage of the following R non-API functions:</p>
<ul><li><p><code>SETLENGTH()</code></p></li>
<li><p><code>SET_TRUELENGTH()</code></p></li>
<li><p><code>SET_GROWABLE_BIT()</code></p></li>
</ul><p>These functions were used as part of the efficient growable vectors that cpp11 offered, i.e. what happens under the hood when you use <code>push_back()</code>. The removal of these non-API functions means that cpp11 writable vectors that have been pushed to with <code>push_back()</code> will likely force 1 extra allocation when the conversion from <code>cpp11::writable::r_vector&lt;T&gt;</code> to <code>SEXP</code> occurs (typically when you return a result back to R). This does not affect the performance of <code>push_back()</code> itself, and in general these growable vectors are still quite efficient (<a href="https://github.com/r-lib/cpp11/issues/362" class="external-link">#362</a>).</p>
</li>
<li>
<p>The <code>environment</code> class no longer uses the non-API function <code>Rf_findVarInFrame3()</code> (<a href="https://github.com/r-lib/cpp11/issues/367" class="external-link">#367</a>).</p>
<ul><li><p>The <code><a href="https://rdrr.io/r/base/exists.html" class="external-link">exists()</a></code> method now uses the new <code>R_existsVarInFrame()</code> function.</p></li>
<li><p>The <code>SEXP</code> conversion operator now uses the new <code>R_getVar()</code> function. Note that this is stricter than <code>Rf_findVarInFrame3()</code> in 3 ways. The object must exist in the environment (i.e. <code>R_UnboundValue</code> is no longer returned), the object cannot be <code>R_MissingArg</code>, and if the object was a promise, that promise is now evaluated. We have backported this new strictness to older versions of R as well.</p></li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-5-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-5-0"></a></h3>
<ul><li><p><code>cpp11::writable::r_vector&lt;T&gt;::proxy</code> now implements copy assignment. Practically this means that <code>x[i] = y[i]</code> now works when both <code>x</code> and <code>y</code> are writable vectors (<a href="https://github.com/r-lib/cpp11/issues/300" class="external-link">#300</a>, <a href="https://github.com/r-lib/cpp11/issues/339" class="external-link">#339</a>).</p></li>
<li><p>New <code>writable::data_frame</code> constructor that also takes the number of rows as input. This accounts for the edge case where the input list has 0 columns but you’d still like to specify a known number of rows (<a href="https://github.com/r-lib/cpp11/issues/272" class="external-link">#272</a>).</p></li>
<li><p><code>std::max_element()</code> can now be used with writable vectors (<a href="https://github.com/r-lib/cpp11/issues/334" class="external-link">#334</a>).</p></li>
<li><p>Read only <code>r_vector</code>s now have a move constructor and move assignment operator (<a href="https://github.com/r-lib/cpp11/issues/365" class="external-link">#365</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="improvements-and-fixes-0-5-0">Improvements and fixes<a class="anchor" aria-label="anchor" href="#improvements-and-fixes-0-5-0"></a></h3>
<ul><li><p>Repeated assignment to a <code>cpp11::writable::strings</code> vector through either <code>x[i] = elt</code> or <code>x.push_back(elt)</code> is now more performant, at the tradeoff of slightly less safety (as long as <code>elt</code> is actually a <code>CHARSXP</code> and <code>i</code> is within bounds, there is no chance of failure, which are the same kind of invariants placed on the other vector types) (<a href="https://github.com/r-lib/cpp11/issues/378" class="external-link">#378</a>).</p></li>
<li><p>Constructors for writable vectors from <code>initializer_list&lt;named_arg&gt;</code> now check that <code>named_arg</code> contains a length 1 object of the correct type, and throws either a <code>cpp11::type_error</code> or <code>std::length_error</code> if that is not the case (<a href="https://github.com/r-lib/cpp11/issues/382" class="external-link">#382</a>).</p></li>
<li><p><code>cpp11::package</code> now errors if given a package name that hasn’t been loaded yet. Previously it would cause R to hang indefinitely (<a href="https://github.com/r-lib/cpp11/issues/317" class="external-link">#317</a>).</p></li>
<li><p><code>cpp11::function</code> now protects its underlying function, for maximum safety (<a href="https://github.com/r-lib/cpp11/issues/294" class="external-link">#294</a>).</p></li>
<li><p><code>cpp11::writable::r_vector&lt;T&gt;::iterator</code> no longer implicitly deletes its copy assignment operator (<a href="https://github.com/r-lib/cpp11/issues/360" class="external-link">#360</a>).</p></li>
<li><p>Added the missing implementation for <code>x.at("name")</code> for read only vectors (<a href="https://github.com/r-lib/cpp11/issues/370" class="external-link">#370</a>).</p></li>
<li><p>Fixed an issue with the <code>writable::matrix</code> copy constructor where the underlying SEXP should have been copied but was not. It is now consistent with the behavior of the equivalent <code>writable::r_vector</code> copy constructor.</p></li>
<li><p>Fixed a memory leak with the <code>cpp11::writable::r_vector</code> move assignment operator (<a href="https://github.com/r-lib/cpp11/issues/338" class="external-link">#338</a>).</p></li>
<li><p>Fixed an issue where writable vectors were being protected twice (<a href="https://github.com/r-lib/cpp11/issues/365" class="external-link">#365</a>).</p></li>
<li>
<p>The approach for the protection list managed by cpp11 has been tweaked slightly. In 0.4.6, we changed to an approach that creates one protection list per compilation unit, but we now believe we’ve found an approach that is guaranteed by the C++ standard to create one protection list per package, which makes slightly more sense and still has all the benefits of the reduced maintanence burden mentioned in the 0.4.6 news bullet (<a href="https://github.com/r-lib/cpp11/issues/364" class="external-link">#364</a>).</p>
<p>A side effect of this new approach is that the <code>preserved</code> object exposed through <code>protect.hpp</code> no longer exists. We don’t believe that anyone was using this. This also means you should no longer see “unused variable” warnings about <code>preserved</code> (<a href="https://github.com/r-lib/cpp11/issues/249" class="external-link">#249</a>).</p>
</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-0-5-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-5-0"></a></h3>
<ul><li><p>R &gt;=3.6.0 is now required. This is in line with (and even goes beyond) the tidyverse standard of supporting the previous 5 minor releases of R.</p></li>
<li><p>Implicit conversion from <code>sexp</code> to <code>bool</code>, <code>size_t</code>, and <code>double</code> has been marked as deprecated and will be removed in the next version of cpp11. The 3 packages that were using this have been notified and sent PRs. The recommended approach is to instead use <code>cpp11::as_cpp&lt;T&gt;</code>, which performs type and length checking, making it much safer to use.</p></li>
<li><p>Dropped support for gcc 4.8, mainly an issue for extremely old CentOS 7 systems which used that as their default compiler. As of June 2024, CentOS 7 is past its vendor end of support date and therefore also out of scope for Posit at this time (<a href="https://github.com/r-lib/cpp11/issues/359" class="external-link">#359</a>).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.7" id="cpp11-047">cpp11 0.4.7<a class="anchor" aria-label="anchor" href="#cpp11-047"></a></h2><p class="text-muted">CRAN release: 2023-12-02</p>
<ul><li>Internal changes requested by CRAN to fix invalid format string tokens (<a href="https://github.com/paleolimbot" class="external-link">@paleolimbot</a>, <a href="https://github.com/r-lib/cpp11/issues/345" class="external-link">#345</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.6" id="cpp11-046">cpp11 0.4.6<a class="anchor" aria-label="anchor" href="#cpp11-046"></a></h2><p class="text-muted">CRAN release: 2023-08-10</p>
<ul><li><p>R &gt;=3.5.0 is now required to use cpp11. This is in line with (and even goes beyond) the tidyverse standard of supporting the previous 5 minor releases of R. It also ensures that <code>R_UnwindProtect()</code> is available to avoid C++ memory leaks (<a href="https://github.com/r-lib/cpp11/issues/332" class="external-link">#332</a>).</p></li>
<li><p><code>cpp11::preserved.release_all()</code> has been removed. This was intended to support expert developers on R &lt;3.5.0 when cpp11 used a global protection list. Since cpp11 no longer uses a global protection list and requires R &gt;=3.5.0, it is no longer needed. As far as we can tell, no package was actively using this (<a href="https://github.com/r-lib/cpp11/issues/332" class="external-link">#332</a>).</p></li>
<li><p>cpp11 now creates one protection list per compilation unit, rather than one global protection list shared across compilation units and across packages. This greatly reduces the complexity of managing the protection list state and should make it easier to make changes to the protection list structure in the future without breaking packages compiled with older versions of cpp11 (<a href="https://github.com/r-lib/cpp11/issues/330" class="external-link">#330</a>).</p></li>
<li><p>Nested calls to <code>cpp11::unwind_protect()</code> are no longer supported or encouraged. Previously, this was something that could be done for performance improvements, but ultimately this feature has proven to cause more problems than it is worth and is very hard to use safely. For more information, see the new <code><a href="../articles/FAQ.html">vignette("FAQ")</a></code> section titled “Should I call <code>cpp11::unwind_protect()</code> manually?” (<a href="https://github.com/r-lib/cpp11/issues/327" class="external-link">#327</a>).</p></li>
<li><p>The features and bug fixes from cpp11 0.4.4 have been added back in.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.5" id="cpp11-045">cpp11 0.4.5<a class="anchor" aria-label="anchor" href="#cpp11-045"></a></h2><p class="text-muted">CRAN release: 2023-07-20</p>
<ul><li>On 2023-07-20, cpp11 was temporarily rolled back to 0.4.3 manually by CRAN due to a bug in 0.4.4 which we could not immediately fix due to the cpp11 maintainer being on vacation.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.4" id="cpp11-044">cpp11 0.4.4<a class="anchor" aria-label="anchor" href="#cpp11-044"></a></h2><p class="text-muted">CRAN release: 2023-06-30</p>
<ul><li><p>Davis Vaughan is now the maintainer.</p></li>
<li><p><code>as_doubles()</code> and <code>as_integers()</code> now propagate missing values correctly (<a href="https://github.com/r-lib/cpp11/issues/265" class="external-link">#265</a>, <a href="https://github.com/r-lib/cpp11/issues/319" class="external-link">#319</a>).</p></li>
<li><p>Fixed a performance issue related to nested <code>unwind_protect()</code> calls (<a href="https://github.com/r-lib/cpp11/issues/298" class="external-link">#298</a>).</p></li>
<li><p>Minor performance improvements to the cpp11 protect code. (<a href="https://github.com/kevinushey" class="external-link">@kevinushey</a>)</p></li>
<li><p><code><a href="../reference/cpp_register.html">cpp_register()</a></code> gains an argument <code>extension=</code> governing the file extension of the <code>src/cpp11</code> file. By default it’s <code>.cpp</code>, but <code>.cc</code> is now supported as well (<a href="https://github.com/r-lib/cpp11/issues/292" class="external-link">#292</a>, <a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.3" id="cpp11-043">cpp11 0.4.3<a class="anchor" aria-label="anchor" href="#cpp11-043"></a></h2><p class="text-muted">CRAN release: 2022-10-12</p>
<ul><li><p>Modernized the GitHub Actions workflows and updated some internal tests to better align with changes in those workflows and the latest version of R (<a href="https://github.com/r-lib/cpp11/issues/279" class="external-link">#279</a>).</p></li>
<li><p><code><a href="../reference/cpp_source.html">cpp_source()</a></code> errors on non-existent file (<a href="https://github.com/r-lib/cpp11/issues/261" class="external-link">#261</a>).</p></li>
<li><p><code><a href="../reference/cpp_register.html">cpp_register()</a></code> is quiet by default when R is non interactive (<a href="https://github.com/r-lib/cpp11/issues/289" class="external-link">#289</a>).</p></li>
<li><p>updated test to adapt to changes in R 4.2.1 (<a href="https://github.com/r-lib/cpp11/issues/290" class="external-link">#290</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.2" id="cpp11-042">cpp11 0.4.2<a class="anchor" aria-label="anchor" href="#cpp11-042"></a></h2><p class="text-muted">CRAN release: 2021-11-30</p>
<ul><li>Romain François is now the maintainer.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.1" id="cpp11-041">cpp11 0.4.1<a class="anchor" aria-label="anchor" href="#cpp11-041"></a></h2><p class="text-muted">CRAN release: 2021-11-03</p>
<ul><li>Fix crash related to unwind protect optimization (<a href="https://github.com/r-lib/cpp11/issues/244" class="external-link">#244</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="cpp11-040">cpp11 0.4.0<a class="anchor" aria-label="anchor" href="#cpp11-040"></a></h2><p class="text-muted">CRAN release: 2021-09-22</p>
<div class="section level3">
<h3 id="new-features-0-4-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-4-0"></a></h3>
<ul><li>New opt-in message formatting with the {fmt} C++ library for <code>cpp11::messages()</code> <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">cpp11::stop()</a></code> and <code><a href="https://rdrr.io/r/base/warning.html" class="external-link">cpp11::warning()</a></code>. Set the <code>CPP11_USE_FMT</code> macro to use this feature in your package. (<a href="https://github.com/sbearrows" class="external-link">@sbearrows</a>, <a href="https://github.com/r-lib/cpp11/issues/169" class="external-link">#169</a>, <a href="https://github.com/r-lib/cpp11/issues/208" class="external-link">#208</a>)</li>
<li>New <code>as_double()</code> and <code>as_integer()</code> methods to coerce integers to doubles and doubles to integers to doubles (<a href="https://github.com/sbearrows" class="external-link">@sbearrows</a>, <a href="https://github.com/r-lib/cpp11/issues/46" class="external-link">#46</a>)</li>
<li>
<code><a href="https://rdrr.io/r/base/matrix.html" class="external-link">cpp11::matrix</a></code> iterators can now be used either row-wise or column-wise (the default) depending on the user’s choice (<a href="https://github.com/alyst" class="external-link">@alyst</a>, <a href="https://github.com/r-lib/cpp11/issues/229" class="external-link">#229</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-and-fixes-0-4-0">Improvements and fixes<a class="anchor" aria-label="anchor" href="#improvements-and-fixes-0-4-0"></a></h3>
<ul><li>Read-only matrix accessors are now marked const (<a href="https://github.com/r-lib/cpp11/issues/234" class="external-link">#234</a>)</li>
<li>
<code>writable::r_vector</code> default constructors now return a 0 length vector when converted to <code>SEXP</code> (<a href="https://github.com/r-lib/cpp11/issues/166" class="external-link">#166</a>)</li>
<li>Read-only <code>r_vector</code> constructors now disallow implicit construction with named arguments (<a href="https://github.com/r-lib/cpp11/issues/237" class="external-link">#237</a>)</li>
<li>Read-only <code>r_vector.attr()</code> methods now return const objects, so it is a compile time error to try to assign to them (<a href="https://github.com/r-lib/cpp11/issues/237" class="external-link">#237</a>)</li>
<li>Fixed <code>+</code> and <code>+=</code> operators of <code>r_vector::[const_]iterator</code> to conform the <em>iterators</em> concept: <code>+=</code> updates the iterator, and <code>+</code> returns the updated copy, while keeping the original unchanged (<a href="https://github.com/alyst" class="external-link">@alyst</a>, <a href="https://github.com/r-lib/cpp11/issues/231" class="external-link">#231</a>)</li>
<li>Remove undefined behavior when constructing global <code>cpp11::sexp</code>s (<a href="https://github.com/r-lib/cpp11/issues/224" class="external-link">#224</a>)</li>
<li>Removed redundant <code>.Call calls</code> in cpp11.cpp file (<a href="https://github.com/sbearrows" class="external-link">@sbearrows</a>, <a href="https://github.com/r-lib/cpp11/issues/170" class="external-link">#170</a>)</li>
<li>Error messages now output original file name rather than the temporary file name (<a href="https://github.com/sbearrows" class="external-link">@sbearrows</a>, <a href="https://github.com/r-lib/cpp11/issues/194" class="external-link">#194</a>)</li>
<li>
<code><a href="../reference/cpp_register.html">cpp_register()</a></code> now includes <code>attribute_visible</code> in the init function, so packages compiled with <code>C_VISIBILITY</code> will find the init function.</li>
<li>Fixed bug when running <code><a href="../reference/cpp_source.html">cpp_source()</a></code> on the same file more than once (<a href="https://github.com/sbearrows" class="external-link">@sbearrows</a>, <a href="https://github.com/r-lib/cpp11/issues/202" class="external-link">#202</a>)</li>
<li>Allow cpp11 decorators of the form <code>cpp11::linking_to</code> (<a href="https://github.com/sbearrows" class="external-link">@sbearrows</a>, <a href="https://github.com/r-lib/cpp11/issues/193" class="external-link">#193</a>)</li>
<li>Removed internal instances of <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">cpp11::stop()</a></code> and replaced with C++ exceptions (<a href="https://github.com/sbearrows" class="external-link">@sbearrows</a>, <a href="https://github.com/r-lib/cpp11/issues/203" class="external-link">#203</a>)</li>
<li>Names of named lists are now resized along with the list elements (<a href="https://github.com/sbearrows" class="external-link">@sbearrows</a>, <a href="https://github.com/r-lib/cpp11/issues/206" class="external-link">#206</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1" id="cpp11-031">cpp11 0.3.1<a class="anchor" aria-label="anchor" href="#cpp11-031"></a></h2><p class="text-muted">CRAN release: 2021-06-25</p>
<ul><li>Fix stringop-truncation warning from generated wrapping code.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="cpp11-030">cpp11 0.3.0<a class="anchor" aria-label="anchor" href="#cpp11-030"></a></h2>
<div class="section level3">
<h3 id="new-functions-and-features-0-3-0">New functions and features<a class="anchor" aria-label="anchor" href="#new-functions-and-features-0-3-0"></a></h3>
<ul><li>New <code>x.empty()</code> method to check if a vector is empty (<a href="https://github.com/sbearrows" class="external-link">@sbearrows</a>, <a href="https://github.com/r-lib/cpp11/issues/182" class="external-link">#182</a>)</li>
<li>New <code>x.named()</code> method to check if a vector is named (<a href="https://github.com/sbearrows" class="external-link">@sbearrows</a>, <a href="https://github.com/r-lib/cpp11/issues/186" class="external-link">#186</a>)</li>
<li>New <code>na()</code> free function to return the NA sentinels for R objects (<a href="https://github.com/sbearrows" class="external-link">@sbearrows</a>, <a href="https://github.com/r-lib/cpp11/issues/179" class="external-link">#179</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="major-fixes-0-3-0">Major fixes<a class="anchor" aria-label="anchor" href="#major-fixes-0-3-0"></a></h3>
<ul><li>Memory no longer inadvertently leaks when move constructing vectors (<a href="https://github.com/r-lib/cpp11/issues/173" class="external-link">#173</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-and-fixes-0-3-0">Minor improvements and fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-fixes-0-3-0"></a></h3>
<ul><li>Incorrectly formatted cpp11 decorators now output a more informative error message (<a href="https://github.com/sbearrows" class="external-link">@sbearrows</a>, <a href="https://github.com/r-lib/cpp11/issues/127" class="external-link">#127</a>)</li>
<li>Generated registration code now uses C collation to avoid spurious changes from <code><a href="https://rdrr.io/r/tools/package_native_routine_registration_skeleton.html" class="external-link">tools::package_native_routine_registration_skeleton()</a></code> (<a href="https://github.com/sbearrows" class="external-link">@sbearrows</a>, <a href="https://github.com/r-lib/cpp11/issues/171" class="external-link">#171</a>)</li>
<li>Makevars files which include filenames now handle spaces in paths properly (<a href="https://github.com/klmr" class="external-link">@klmr</a>, <a href="https://github.com/r-lib/cpp11/issues/160" class="external-link">#160</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.7" id="cpp11-027">cpp11 0.2.7<a class="anchor" aria-label="anchor" href="#cpp11-027"></a></h2><p class="text-muted">CRAN release: 2021-03-29</p>
<ul><li>Fix a transient memory leak for functions that return values from <code>cpp11::unwind_protect()</code> and <code>cpp11::safe</code> (<a href="https://github.com/r-lib/cpp11/issues/154" class="external-link">#154</a>)</li>
<li>
<code><a href="../reference/cpp_source.html">cpp_source()</a></code> now gets an argument <code>dir</code> to allow customized temporary directory to store generated source files. It makes it easier to debug C++ source files in non-package project via source mapping. (<a href="https://github.com/renkun-ken" class="external-link">@renkun-ken</a>, <a href="https://github.com/r-lib/cpp11/issues/156" class="external-link">#156</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.6" id="cpp11-026">cpp11 0.2.6<a class="anchor" aria-label="anchor" href="#cpp11-026"></a></h2><p class="text-muted">CRAN release: 2021-01-29</p>
<ul><li>
<code><a href="../reference/cpp_register.html">cpp_register()</a></code> now uses symbols exclusively in the <code><a href="https://rdrr.io/r/base/CallExternal.html" class="external-link">.Call()</a></code> interface. This allows it to be more robust in interactive use with the pkgload package.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.5" id="cpp11-025">cpp11 0.2.5<a class="anchor" aria-label="anchor" href="#cpp11-025"></a></h2><p class="text-muted">CRAN release: 2021-01-12</p>
<ul><li>
<code><a href="../reference/cpp_source.html">cpp_source()</a></code> gains a <code>cxx_std</code> argument to control which C++ standard is used. This allows you to use code from <code>C++14</code> and later standards with cpp_source(). (<a href="https://github.com/r-lib/cpp11/issues/100" class="external-link">#100</a>)</li>
<li>The cpp11 knitr engine now allows you to set the <code>cxx_std</code> chunk option to control the C++ standard used.</li>
<li>
<code><a href="../reference/cpp_source.html">cpp_source()</a></code> now has much more informative error messages when compilation fails (<a href="https://github.com/r-lib/cpp11/issues/125" class="external-link">#125</a>, <a href="https://github.com/r-lib/cpp11/issues/139" class="external-link">#139</a>)</li>
<li>
<code><a href="../reference/cpp_source.html">cpp_source()</a></code> now uses a unique name for the DLL, so works when run multiple times on the same source file on Windows (<a href="https://github.com/r-lib/cpp11/issues/143" class="external-link">#143</a>)</li>
<li>
<code>writable::list_of&lt;T&gt;</code> now supports modification of vectors as intended (<a href="https://github.com/r-lib/cpp11/issues/131" class="external-link">#131</a>).</li>
<li>Errors when running <code><a href="https://rdrr.io/r/tools/package_native_routine_registration_skeleton.html" class="external-link">tools::package_native_routine_registration_skeleton()</a></code> are no longer swallowed (<a href="https://github.com/r-lib/cpp11/issues/134" class="external-link">#134</a>)</li>
<li>
<code><a href="../reference/cpp_source.html">cpp_source()</a></code> can now accept a source file called <code>cpp11.cpp</code> (<a href="https://github.com/r-lib/cpp11/issues/133" class="external-link">#133</a>)</li>
<li>
<code>named_arg</code> now explicitly protect their values, avoiding protection issues when using large inputs. <a href="https://github.com/tidyverse/readr/issues/1145" class="external-link">tidyverse/readr#1145</a>
</li>
<li>
<code>r_string(std::string)</code> now uses <code>Rf_mkCharLenCE()</code> instead of <code>Rf_mkChar()</code>, which avoids the performance cost of checking the string length.</li>
<li>Writable vector classes now properly set their lengths as intended when being copied to a read only class (<a href="https://github.com/r-lib/cpp11/issues/128" class="external-link">#128</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.4" id="cpp11-024">cpp11 0.2.4<a class="anchor" aria-label="anchor" href="#cpp11-024"></a></h2><p class="text-muted">CRAN release: 2020-11-05</p>
<ul><li>The preserve list is now more robust to invalid values, such as when the XPtr has no address or if non-xptr’s are stored in the option. This fixes errors when reloading packages using cpp11 and RStudio’s session restores.</li>
<li>The preserve list is now more robust to invalid values, such as null pointers when the XPtr is serialized. This situation occurs during ‘Install and Restart’ in RStudio (<a href="https://github.com/r-lib/cpp11/issues/121" class="external-link">#121</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3" id="cpp11-023">cpp11 0.2.3<a class="anchor" aria-label="anchor" href="#cpp11-023"></a></h2><p class="text-muted">CRAN release: 2020-10-14</p>
<ul><li>
<code>r_vector::const_iterator::operator*</code> is now a const method (<a href="https://github.com/r-lib/cpp11/issues/113" class="external-link">#113</a>, <a href="https://github.com/bkietz" class="external-link">@bkietz</a>, <a href="https://github.com/xhochy" class="external-link">@xhochy</a>)</li>
<li>The preserve list is now stored in an XPtr, rather than an environment, to avoid issues when serializing the preserve environment, which happens implicitly when RStudio or RStudio Cloud saves all options when resuming a session (<a href="https://github.com/r-lib/cpp11/issues/116" class="external-link">#116</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.2" id="cpp11-022">cpp11 0.2.2<a class="anchor" aria-label="anchor" href="#cpp11-022"></a></h2><p class="text-muted">CRAN release: 2020-10-01</p>
<ul><li><p><code>r_bool</code> added as an adapter between <code>bool</code> and <code>Rboolean</code> values (<a href="https://github.com/r-lib/cpp11/issues/57" class="external-link">#57</a>, <a href="https://github.com/bkietz" class="external-link">@bkietz</a>)</p></li>
<li><p><code>data_frame()</code> objects now have the number of rows correctly set as real length, not the reserved length (<a href="https://github.com/r-lib/cpp11/issues/91" class="external-link">#91</a>)</p></li>
<li><p>Fixed potential memory leak in cpp11::writable classes.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1" id="cpp11-021">cpp11 0.2.1<a class="anchor" aria-label="anchor" href="#cpp11-021"></a></h2><p class="text-muted">CRAN release: 2020-08-11</p>
<ul><li><p>Ensures backwards compatibility with code generation from cpp11 0.1.0 (<a href="https://github.com/r-lib/cpp11/issues/88" class="external-link">#88</a>)</p></li>
<li><p><code>push_back()</code> now works more consistently with named arguments (<a href="https://github.com/r-lib/cpp11/issues/86" class="external-link">#86</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="cpp11-020">cpp11 0.2.0<a class="anchor" aria-label="anchor" href="#cpp11-020"></a></h2><p class="text-muted">CRAN release: 2020-08-10</p>
<div class="section level3">
<h3 id="new-features-0-2-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-2-0"></a></h3>
<ul><li><p>cpp11 is now able to compile on gcc 4.8.5 (<a href="https://github.com/r-lib/cpp11/issues/69" class="external-link">#69</a>, <a href="https://github.com/bkietz" class="external-link">@bkietz</a>)</p></li>
<li><p><code><a href="../reference/cpp_source.html">cpp_source()</a></code>, <code><a href="../reference/cpp_source.html">cpp_function()</a></code> and <code><a href="../reference/cpp_source.html">cpp_eval()</a></code> now support <code>[[cpp11::linking_to()]]</code> syntax to link to third party packages with C++ headers. (<a href="https://github.com/r-lib/cpp11/issues/48" class="external-link">#48</a>)</p></li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-and-fixes-0-2-0">Minor improvements and fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-fixes-0-2-0"></a></h3>
<ul><li><p><code>as_cpp&lt;E&gt;()</code> now works with enumeration types (<a href="https://github.com/r-lib/cpp11/issues/52" class="external-link">#52</a>, <a href="https://github.com/bkietz" class="external-link">@bkietz</a>)</p></li>
<li><p><code>as_cpp&lt;int&gt;()</code> and <code>as_cpp&lt;double&gt;()</code> now implicitly coerce between all 3 types of single NA values (<a href="https://github.com/r-lib/cpp11/issues/53" class="external-link">#53</a>).</p></li>
<li><p><code>list::const_iterator::operator*()</code> added so iterators could be used on list objects (<a href="https://github.com/r-lib/cpp11/issues/60" class="external-link">#60</a>, <a href="https://github.com/romainfrancois" class="external-link">@romainfrancois</a>)</p></li>
<li><p><code>safe[]</code> can now work with functions that return any type (<a href="https://github.com/r-lib/cpp11/issues/70" class="external-link">#70</a>, <a href="https://github.com/bkietz" class="external-link">@bkietz</a>)</p></li>
<li><p>The <code>END_CPP</code> macro now includes a <code>catch(...)</code> block to catch all C++ exceptions that do not inherit from <code>std::exception</code> (<a href="https://github.com/r-lib/cpp11/issues/47" class="external-link">#47</a>).</p></li>
<li><p>Improve consistency of inserting NA values in r_string objects (<a href="https://github.com/r-lib/cpp11/issues/45" class="external-link">#45</a>)</p></li>
<li><p>Added a <code>NEWS.md</code> file to track changes to the package.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="cpp11-010">cpp11 0.1.0<a class="anchor" aria-label="anchor" href="#cpp11-010"></a></h2><p class="text-muted">CRAN release: 2020-07-10</p>
<ul><li>Initial release</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/DavisVaughan" class="external-link">Davis Vaughan</a>, <a href="http://jimhester.com" class="external-link">Jim Hester</a>, <a href="https://github.com/romainfrancois" class="external-link">Romain François</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer></body></html>

